{% extends 'base.html' %}

{% block body %}
<div class="container-md text-center">
    <h1 class="display-2 text-center mt-2 mb-5">Family Circles</h1>
    {% if request.user.person.family_circles.all|length > 0 %}
    <ul class="list-group mb-5">
        {% for circle in request.user.person.family_circles.all %}
        <a href="{% url 'circle_detail' circle.id %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
          {{circle.name}}
          <span class="badge bg-primary rounded-pill">{{circle.members.all|length}} People</span>
        </a>
        {% endfor %}
    </ul>
    {% else %}
    <div class="lead text-center mb-4">Looks like you aren't a part of any family circles yet...</div>
    <div class="d-flex justify-content-center">
        <div class="card text-center mx-2" style="width: 25rem">
            <div class="card-body">
              <h5 class="card-title">Reach Out</h5>
              <p class="card-text">Reach out to a family member through the chat feature and have them add you to their circle!</p>
              <a href="{% url 'chats' %}" class="btn btn-primary btn-lg">Go to Chats</a>
            </div>
        </div>
        <div class="card text-center mx-2" style="width: 25rem">
            <div class="card-body">
              <h5 class="card-title">First in your family?</h5>
              <p class="card-text">If you're ready to start documenting and connecting with your family history</p>
              <a href="{% url 'create_circle' %}" class="btn btn-primary btn-lg">Create a Family Circle</a>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}